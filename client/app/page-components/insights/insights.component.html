<div class="row">
    <div class="col-2"></div>
    <div class="col-8">
        <div class="form-row">
            <div class="col">
                <select disabled class="custom-select">
                    <option selected>Opponent character usage</option>
                    <option value="1">User win rate over time</option>
                    <option value="2">User win rate by character</option>
                </select>
            </div>
        </div>
        <div class="form-row mt-2">
            <div class="col-6 pr-1">
                <div class="form-row">
                    <div class="input-group col-6">
                        <input class="form-control" placeholder="Start date" name="start-date" 
                            [(ngModel)]="startDate" (dateSelect)="onDateSelect($event)" 
                            ngbDatepicker #dpStart="ngbDatepicker" autocomplete="off" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" (click)="dpStart.toggle()" type="button">
                                <fa-icon [icon]="faCalendarAlt"></fa-icon>
                            </button>
                        </div>
                    </div>
                    <div class="input-group col-6">
                        <input class="form-control" placeholder="End date" name="end-date" 
                            [(ngModel)]="endDate" (dateSelect)="onDateSelect($event)" 
                            ngbDatepicker #dpEnd="ngbDatepicker" autocomplete="off" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" (click)="dpEnd.toggle()" type="button">
                                <fa-icon [icon]="faCalendarAlt"></fa-icon>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6 pl-1">
                <select disabled class="custom-select">
                    <option selected>-- Data from all users --</option>
                    <option value="1">Jyruffe</option>
                    <option value="2">Joralphe</option>
                </select>
            </div>
        </div>
        <div class="form-row mt-2">
            <div class="col-6 pr-1">
                <select [(ngModel)]="sortType" (change)="publishCharacterUsageChartData()" class="custom-select">
                    <option selected value="">-- Sort by --</option>
                    <option value="alpha">Alphabetical</option>
                    <option value="use">Usage</option>
                </select>
            </div>
            <div class="col-6 pl-1">
                <select [(ngModel)]="sortOrder" (change)="publishCharacterUsageChartData()" class="custom-select">
                    <option selected value="">-- Sort order --</option>
                    <option value="asc">Ascending</option>
                    <option value="desc">Descending</option>
                </select>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col">
                <div *ngIf="!isInitialLoad && matches?.length && !noFilteredDataToDisplay">
                    <chart-bar-horizontal 
                        [data]="chartData"
                        [dataUnit]="dataUnit"
                        [xAxisLabel]="xAxisLabel"
                        [yAxisLabel]="yAxisLabel"
                        [xAxisTickFormatting]="xAxisTickFormatting"
                        [yAxisTickFormatting]="yAxisTickFormatting"
                    ></chart-bar-horizontal>
                </div>
                <div *ngIf="isInitialLoad" class="text-center insights-chart-container">
                    <div class="skeleton-chart text-center mt-2">
                        <div class="filler-bar-container border-left border-dark">
                            <div 
                            *ngFor="let percent of fillerPercents; index as i"
                            [ngStyle]="{'width':percent+'%'}"
                            [ngClass]="{'mb-2': i!=fillerPercents.length-1}"
                            class="filler-bar rounded-right bg-dark"></div>
                        </div>
                        <div class="filler-x-label bg-dark rounded-pill mt-4"></div>
                        <div class="filler-y-label bg-dark rounded-pill"></div>
                        <div class="filler-tooltip">
                            <div class="tooltip-body rounded-sm bg-dark"></div>
                            <div class="triangle"></div>
                        </div>
                    </div>
                </div>
                <div *ngIf="!isInitialLoad && (!matches?.length || noFilteredDataToDisplay)" class="text-center no-data-block">
                    <h3 class="text-black-50">No matches found</h3>
                </div>
            </div>
        </div>

    </div>
    <div class="col-2"></div>
</div>


