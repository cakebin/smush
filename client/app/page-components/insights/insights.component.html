<div class="row">
    <div class="col-2"></div>
    <div class="col-8">
        <div class="form-row">
            <div class="col">
                <select disabled class="custom-select">
                    <option selected>Opponent character usage</option>
                    <option value="1">User win rate over time</option>
                    <option value="2">User win rate by character</option>
                </select>
            </div>
        </div>
        <div class="form-row mt-2">
            <div class="col-6 pr-1">
                <div class="form-row">
                    <div class="input-group col-6">
                        <input class="form-control" placeholder="Start date" name="start-date" 
                            [(ngModel)]="startDate" (dateSelect)="onDateSelect($event)" 
                            ngbDatepicker #dpStart="ngbDatepicker" autocomplete="off" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" (click)="dpStart.toggle()" type="button">
                                <fa-icon [icon]="faCalendarAlt"></fa-icon>
                            </button>
                        </div>
                    </div>
                    <div class="input-group col-6">
                        <input class="form-control" placeholder="End date" name="end-date" 
                            [(ngModel)]="endDate" (dateSelect)="onDateSelect($event)" 
                            ngbDatepicker #dpEnd="ngbDatepicker" autocomplete="off" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" (click)="dpEnd.toggle()" type="button">
                                <fa-icon [icon]="faCalendarAlt"></fa-icon>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6 pl-1">
                <select disabled class="custom-select">
                    <option selected>-- Data from all users --</option>
                    <option value="1">Jyruffe</option>
                    <option value="2">Joralphe</option>
                </select>
            </div>
        </div>
        <div class="form-row mt-2">
            <div class="col-6 pr-1">
                <select [(ngModel)]="sortType" (change)="publishCharacterUsageChartData()" class="custom-select">
                    <option selected value="">-- Sort by --</option>
                    <option value="alpha">Alphabetical</option>
                    <option value="use">Usage</option>
                </select>
            </div>
            <div class="col-6 pl-1">
                <select [(ngModel)]="sortOrder" (change)="publishCharacterUsageChartData()" class="custom-select">
                    <option selected value="">-- Sort order --</option>
                    <option value="asc">Ascending</option>
                    <option value="desc">Descending</option>
                </select>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col">
                <div *ngIf="!isInitialLoad && matches?.length && !noFilteredDataToDisplay">
                    <chart-bar-horizontal 
                        [data]="chartData"
                        [dataUnit]="dataUnit"
                        [xAxisLabel]="xAxisLabel"
                        [yAxisLabel]="yAxisLabel"
                        [xAxisTickFormatting]="xAxisTickFormatting"
                        [yAxisTickFormatting]="yAxisTickFormatting"
                    ></chart-bar-horizontal>
                </div>
                <div *ngIf="isInitialLoad" class="text-center insights-chart-container">
                    <style>
                        .skeleton-chart {
                            position:absolute;
                            width:600px;
                            height:300px;
                            left:50%;
                            margin-left:-300px;
                            opacity:0.3;
                            overflow:hidden;
                        }
                        .filler-bar {
                            height:20px;
                            opacity:0.3;
                        }
                        .filler-bar-container {
                            margin-top:0px;
                        }
                    </style>
                    <div class="skeleton-chart border-left border-bottom border-dark mt-1">
                        <div class="filler-bar-container">
                            <div *ngFor="let percent of [65, 100, 26, 70, 30, 27, 22, 15, 30, 60, 78]"
                            [ngStyle]="{'width':percent+'%'}"
                            class="filler-bar rounded-right bg-dark mb-2"></div>
                        </div>
                    </div>
                </div>
                <div *ngIf="!isInitialLoad && (!matches?.length || noFilteredDataToDisplay)" class="text-center no-data-block">
                    <h3 class="text-black-50">No matches found</h3>
                </div>
            </div>
        </div>

    </div>
    <div class="col-2"></div>
</div>


